{"ast":null,"code":"var _jsxFileName = \"/Users/anishumar/Desktop/react-firebase-chat/src/App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s4 = $RefreshSig$();\nimport './App.css';\nimport React, { useState, useRef, useEffect } from 'react';\nimport { initializeApp } from 'firebase/app';\nimport { getAuth, signInWithPopup, signOut as firebaseSignOut } from 'firebase/auth';\nimport { GoogleAuthProvider } from 'firebase/auth';\nimport { getFirestore, collection, query, orderBy, addDoc, serverTimestamp, where, or, and, setDoc, doc } from 'firebase/firestore';\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport { useCollectionData } from 'react-firebase-hooks/firestore';\n\n// Firebase configuration\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst firebaseConfig = {\n  apiKey: \"AIzaSyD7K1pgnmYOsvZNZ2NrXXa1u4gfVl2ltF0\",\n  authDomain: \"superchat-bfdc0.firebaseapp.com\",\n  projectId: \"superchat-bfdc0\",\n  storageBucket: \"superchat-bfdc0.appspot.com\",\n  messagingSenderId: \"1036790184900\",\n  appId: \"1:1036790184900:web:b5da3e19005c2bcada0291\",\n  measurementId: \"G-N12164VTE2\"\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nconst auth = getAuth(app);\nconst firestore = getFirestore(app);\nfunction App() {\n  _s();\n  const [user] = useAuthState(auth);\n  const [chatType, setChatType] = useState('global');\n  const [selectedUser, setSelectedUser] = useState(null);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"App-header\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-content\",\n        children: [/*#__PURE__*/_jsxDEV(SignOut, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 11\n        }, this), user && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-type-selector\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: chatType === 'global' ? 'active' : '',\n            onClick: () => {\n              setChatType('global');\n              setSelectedUser(null);\n            },\n            children: \"Global Chat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: chatType === 'private' ? 'active' : '',\n            onClick: () => setChatType('private'),\n            children: \"Private Chat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      children: user ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [chatType === 'private' && /*#__PURE__*/_jsxDEV(UserList, {\n          selectedUser: selectedUser,\n          setSelectedUser: setSelectedUser\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(ChatRoom, {\n          chatType: chatType,\n          selectedUser: selectedUser\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(SignIn, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"hGGtlnWBv+Bs9WRk+3lOz6KtHks=\", false, function () {\n  return [useAuthState];\n});\n_c = App;\nfunction SignIn() {\n  const signInWithGoogle = async () => {\n    const provider = new GoogleAuthProvider();\n    try {\n      const result = await signInWithPopup(auth, provider);\n      const {\n        user\n      } = result;\n\n      // Store user information in Firestore\n      const usersRef = collection(firestore, 'users');\n      const userDoc = {\n        uid: user.uid,\n        displayName: user.displayName,\n        photoURL: user.photoURL,\n        email: user.email,\n        lastSeen: serverTimestamp()\n      };\n\n      // Use the user's UID as the document ID\n      await setDoc(doc(usersRef, user.uid), userDoc, {\n        merge: true\n      });\n    } catch (error) {\n      console.error('Error signing in:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    onClick: signInWithGoogle,\n    children: \"Sign in with Google\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 5\n  }, this);\n}\n_c2 = SignIn;\nfunction SignOut() {\n  return auth.currentUser && /*#__PURE__*/_jsxDEV(\"button\", {\n    onClick: () => firebaseSignOut(auth),\n    children: \"Sign Out\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 5\n  }, this);\n}\n_c3 = SignOut;\nfunction UserList({\n  selectedUser,\n  setSelectedUser\n}) {\n  _s2();\n  const usersRef = collection(firestore, 'users');\n  const q = query(usersRef);\n  const [users] = useCollectionData(q, {\n    idField: 'id'\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"user-list\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Select a user to chat with:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this), users && users.filter(user => user.uid !== auth.currentUser.uid).map(user => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `user-item ${(selectedUser === null || selectedUser === void 0 ? void 0 : selectedUser.uid) === user.uid ? 'selected' : ''}`,\n      onClick: () => setSelectedUser(user),\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: user.photoURL,\n        alt: \"User Avatar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: user.displayName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 13\n      }, this)]\n    }, user.uid, true, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 11\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 5\n  }, this);\n}\n_s2(UserList, \"M+tP35k78NaLDTIxF7/pAiGe+SM=\", false, function () {\n  return [useCollectionData];\n});\n_c4 = UserList;\nfunction ChatRoom({\n  chatType,\n  selectedUser\n}) {\n  _s4();\n  var _s3 = $RefreshSig$();\n  const dummy = useRef();\n  const [formValue, setFormValue] = useState('');\n  const [messages, setMessages] = useState([]);\n  _s3(useEffect(_s3(() => {\n    _s3();\n    let messagesRef = collection(firestore, 'messages');\n    let q;\n    if (chatType === 'global') {\n      q = query(messagesRef, where('chatType', '==', 'global'), orderBy('createdAt'));\n    } else if (chatType === 'private' && selectedUser) {\n      q = query(messagesRef, where('chatType', '==', 'private'), where('participants', 'array-contains', auth.currentUser.uid), where('participants', 'array-contains', selectedUser.uid), orderBy('createdAt'));\n    }\n    if (q) {\n      const unsubscribe = useCollectionData(q, {\n        idField: 'id'\n      })[0];\n      setMessages(unsubscribe);\n      return () => unsubscribe();\n    }\n  }, \"UQzUgWN2U471qs3QmDuLZP+7Z+4=\", false, function () {\n    return [useCollectionData];\n  }), [chatType, selectedUser]), \"UQzUgWN2U471qs3QmDuLZP+7Z+4=\", false, function () {\n    return [useCollectionData];\n  });\n  useEffect(() => {\n    var _dummy$current;\n    (_dummy$current = dummy.current) === null || _dummy$current === void 0 ? void 0 : _dummy$current.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [messages]);\n  const sendMessage = async e => {\n    e.preventDefault();\n    if (!formValue.trim()) return;\n    const {\n      uid,\n      photoURL,\n      displayName\n    } = auth.currentUser;\n    const messageData = {\n      text: formValue,\n      createdAt: serverTimestamp(),\n      uid,\n      photoURL,\n      displayName,\n      chatType\n    };\n    if (chatType === 'private' && selectedUser) {\n      messageData.participants = [uid, selectedUser.uid];\n    }\n    await addDoc(collection(firestore, 'messages'), messageData);\n    setFormValue('');\n    dummy.current.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"main\", {\n      children: [messages && messages.map(msg => /*#__PURE__*/_jsxDEV(ChatMessage, {\n        message: msg\n      }, msg.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: dummy\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: sendMessage,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        value: formValue,\n        onChange: e => setFormValue(e.target.value),\n        placeholder: chatType === 'private' && !selectedUser ? \"Select a user to chat with\" : \"Type a message...\",\n        disabled: chatType === 'private' && !selectedUser\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: chatType === 'private' && !selectedUser,\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s4(ChatRoom, \"sRRhI1i4tDnfAis4u7eGjcdbCxc=\");\n_c5 = ChatRoom;\nfunction ChatMessage(props) {\n  const {\n    text,\n    uid,\n    photoURL,\n    displayName\n  } = props.message;\n  const messageClass = uid === auth.currentUser.uid ? 'sent' : 'received';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `message ${messageClass}`,\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: photoURL,\n      alt: \"Avatar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"message-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"sender-name\",\n        children: displayName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 228,\n    columnNumber: 5\n  }, this);\n}\n_c6 = ChatMessage;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"App\");\n$RefreshReg$(_c2, \"SignIn\");\n$RefreshReg$(_c3, \"SignOut\");\n$RefreshReg$(_c4, \"UserList\");\n$RefreshReg$(_c5, \"ChatRoom\");\n$RefreshReg$(_c6, \"ChatMessage\");","map":{"version":3,"names":["React","useState","useRef","useEffect","initializeApp","getAuth","signInWithPopup","signOut","firebaseSignOut","GoogleAuthProvider","getFirestore","collection","query","orderBy","addDoc","serverTimestamp","where","or","and","setDoc","doc","useAuthState","useCollectionData","jsxDEV","_jsxDEV","Fragment","_Fragment","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","app","auth","firestore","App","_s","user","chatType","setChatType","selectedUser","setSelectedUser","className","children","SignOut","fileName","_jsxFileName","lineNumber","columnNumber","onClick","UserList","ChatRoom","SignIn","_c","signInWithGoogle","provider","result","usersRef","userDoc","uid","displayName","photoURL","email","lastSeen","merge","error","console","_c2","currentUser","_c3","_s2","q","users","idField","filter","map","src","alt","_c4","_s4","_s3","$RefreshSig$","dummy","formValue","setFormValue","messages","setMessages","messagesRef","unsubscribe","_dummy$current","current","scrollIntoView","behavior","sendMessage","e","preventDefault","trim","messageData","text","createdAt","participants","msg","ChatMessage","message","id","ref","onSubmit","value","onChange","target","placeholder","disabled","type","_c5","props","messageClass","_c6","$RefreshReg$"],"sources":["/Users/anishumar/Desktop/react-firebase-chat/src/App.js"],"sourcesContent":["import './App.css';\nimport React, { useState, useRef, useEffect } from 'react';\nimport { initializeApp } from 'firebase/app';\nimport { getAuth, signInWithPopup, signOut as firebaseSignOut } from 'firebase/auth';\nimport { GoogleAuthProvider } from 'firebase/auth';\nimport { getFirestore, collection, query, orderBy, addDoc, serverTimestamp, where, or, and, setDoc, doc } from 'firebase/firestore';\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport { useCollectionData } from 'react-firebase-hooks/firestore';\n\n// Firebase configuration\nconst firebaseConfig = {\n  apiKey: \"AIzaSyD7K1pgnmYOsvZNZ2NrXXa1u4gfVl2ltF0\",\n  authDomain: \"superchat-bfdc0.firebaseapp.com\",\n  projectId: \"superchat-bfdc0\",\n  storageBucket: \"superchat-bfdc0.appspot.com\",\n  messagingSenderId: \"1036790184900\",\n  appId: \"1:1036790184900:web:b5da3e19005c2bcada0291\",\n  measurementId: \"G-N12164VTE2\"\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nconst auth = getAuth(app);\nconst firestore = getFirestore(app);\n\nfunction App() {\n  const [user] = useAuthState(auth);\n  const [chatType, setChatType] = useState('global');\n  const [selectedUser, setSelectedUser] = useState(null);\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <div className=\"header-content\">\n          <SignOut />\n          {user && (\n            <div className=\"chat-type-selector\">\n              <button \n                className={chatType === 'global' ? 'active' : ''} \n                onClick={() => {\n                  setChatType('global');\n                  setSelectedUser(null);\n                }}\n              >\n                Global Chat\n              </button>\n              <button \n                className={chatType === 'private' ? 'active' : ''} \n                onClick={() => setChatType('private')}\n              >\n                Private Chat\n              </button>\n            </div>\n          )}\n        </div>\n      </header>\n\n      <section>\n        {user ? (\n          <>\n            {chatType === 'private' && (\n              <UserList \n                selectedUser={selectedUser} \n                setSelectedUser={setSelectedUser} \n              />\n            )}\n            <ChatRoom \n              chatType={chatType} \n              selectedUser={selectedUser} \n            />\n          </>\n        ) : (\n          <SignIn />\n        )}\n      </section>\n    </div>\n  );\n}\n\nfunction SignIn() {\n  const signInWithGoogle = async () => {\n    const provider = new GoogleAuthProvider();\n    try {\n      const result = await signInWithPopup(auth, provider);\n      const { user } = result;\n      \n      // Store user information in Firestore\n      const usersRef = collection(firestore, 'users');\n      const userDoc = {\n        uid: user.uid,\n        displayName: user.displayName,\n        photoURL: user.photoURL,\n        email: user.email,\n        lastSeen: serverTimestamp()\n      };\n      \n      // Use the user's UID as the document ID\n      await setDoc(doc(usersRef, user.uid), userDoc, { merge: true });\n    } catch (error) {\n      console.error('Error signing in:', error);\n    }\n  };\n\n  return (\n    <button onClick={signInWithGoogle}>Sign in with Google</button>\n  );\n}\n\nfunction SignOut() {\n  return auth.currentUser && (\n    <button onClick={() => firebaseSignOut(auth)}>Sign Out</button>\n  );\n}\n\nfunction UserList({ selectedUser, setSelectedUser }) {\n  const usersRef = collection(firestore, 'users');\n  const q = query(usersRef);\n  const [users] = useCollectionData(q, { idField: 'id' });\n\n  return (\n    <div className=\"user-list\">\n      <h3>Select a user to chat with:</h3>\n      {users && users\n        .filter(user => user.uid !== auth.currentUser.uid)\n        .map(user => (\n          <div \n            key={user.uid}\n            className={`user-item ${selectedUser?.uid === user.uid ? 'selected' : ''}`}\n            onClick={() => setSelectedUser(user)}\n          >\n            <img src={user.photoURL} alt=\"User Avatar\" />\n            <span>{user.displayName}</span>\n          </div>\n        ))}\n    </div>\n  );\n}\n\nfunction ChatRoom({ chatType, selectedUser }) {\n  const dummy = useRef();\n  const [formValue, setFormValue] = useState('');\n  const [messages, setMessages] = useState([]);\n\n  useEffect(() => {\n    let messagesRef = collection(firestore, 'messages');\n    let q;\n\n    if (chatType === 'global') {\n      q = query(messagesRef, \n        where('chatType', '==', 'global'),\n        orderBy('createdAt')\n      );\n    } else if (chatType === 'private' && selectedUser) {\n      q = query(messagesRef,\n        where('chatType', '==', 'private'),\n        where('participants', 'array-contains', auth.currentUser.uid),\n        where('participants', 'array-contains', selectedUser.uid),\n        orderBy('createdAt')\n      );\n    }\n\n    if (q) {\n      const unsubscribe = useCollectionData(q, { idField: 'id' })[0];\n      setMessages(unsubscribe);\n      return () => unsubscribe();\n    }\n  }, [chatType, selectedUser]);\n\n  useEffect(() => {\n    dummy.current?.scrollIntoView({ behavior: 'smooth' });\n  }, [messages]);\n\n  const sendMessage = async (e) => {\n    e.preventDefault();\n    if (!formValue.trim()) return;\n\n    const { uid, photoURL, displayName } = auth.currentUser;\n    const messageData = {\n      text: formValue,\n      createdAt: serverTimestamp(),\n      uid,\n      photoURL,\n      displayName,\n      chatType\n    };\n\n    if (chatType === 'private' && selectedUser) {\n      messageData.participants = [uid, selectedUser.uid];\n    }\n\n    await addDoc(collection(firestore, 'messages'), messageData);\n    setFormValue('');\n    dummy.current.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  return (\n    <>\n      <main>\n        {messages && messages.map(msg => (\n          <ChatMessage key={msg.id} message={msg} />\n        ))}\n        <div ref={dummy}></div>\n      </main>\n\n      <form onSubmit={sendMessage}>\n        <input \n          value={formValue} \n          onChange={(e) => setFormValue(e.target.value)} \n          placeholder={chatType === 'private' && !selectedUser ? \"Select a user to chat with\" : \"Type a message...\"}\n          disabled={chatType === 'private' && !selectedUser}\n        />\n        <button \n          type=\"submit\" \n          disabled={chatType === 'private' && !selectedUser}\n        >\n          Send\n        </button>\n      </form>\n    </>\n  );\n}\n\nfunction ChatMessage(props) {\n  const { text, uid, photoURL, displayName } = props.message;\n  const messageClass = uid === auth.currentUser.uid ? 'sent' : 'received';\n\n  return (\n    <div className={`message ${messageClass}`}>\n      <img src={photoURL} alt=\"Avatar\" />\n      <div className=\"message-content\">\n        <span className=\"sender-name\">{displayName}</span>\n        <p>{text}</p>\n      </div>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}